let type ?= "app"
let type ?= "lib"

let command = "msg \"../test_lib\""

output ${type} out/${_platform}_${_arch}_${_config}/$app(test)

define LOL "\"haha\""

std c++17

incpath ../test_lib

require ../test_lib

cmd cppbuild --path=test_lib

$[command]

lib ../test_lib/lib/${_platform}_${_arch}_${_config}/$lib(test)

if ${_platform} = win32
    msg "Hello Windows"
    if ${_config} = debug
        msg schlecht
    else
        msg guat
    endif
else
    msg "Hello Linux"
    if ${_config} = debug
        msg schlecht
    else
        msg guat
    endif
endif

[ 1 != 2 ? msg lol]